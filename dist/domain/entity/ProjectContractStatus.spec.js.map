{"version":3,"sources":["../../../src/domain/entity/ProjectContractStatus.spec.ts"],"sourcesContent":["import { format } from 'date-fns';\nimport fc from 'fast-check';\nimport { describe, expect, it } from 'vitest';\n\nimport {\n  ContractStatus,\n  DATETIME_VALUE_FORMAT,\n  DatetimeValue,\n  ProjectContractStatusId,\n  ProjectId,\n  ProjectStopFlag,\n  StatusReason,\n} from '../value';\n\nimport { ProjectContractStatus } from './ProjectContractStatus';\n\nconst ContractStatuses = ['NEW', 'SIGNED', 'CANCELED'];\n\ndescribe('ProjectContractStatus', () => {\n  it('should return ProjectContractStatus when input is valid', () => {\n    fc.assert(\n      fc.property(\n        fc\n          .record({\n            projectContractStatusId: fc.uuid({ version: 7 }),\n            isProjectStop: fc.boolean(),\n            projectId: fc.uuid({ version: 7 }),\n            statusName: fc.constantFrom(...ContractStatuses),\n            statusReason: fc.string({ minLength: 1 }),\n            statusTimestamp: fc.date({\n              min: new Date(0),\n              max: new Date(9999, 11, 31),\n            }),\n          })\n          .filter(({ statusReason }) => statusReason.trim().length > 1)\n          .map(\n            ({\n              projectContractStatusId,\n              isProjectStop,\n              projectId,\n              statusName,\n              statusReason,\n              statusTimestamp,\n            }) => ({\n              projectContractStatusId: ProjectContractStatusId.from(\n                projectContractStatusId,\n              ),\n              isProjectStop: ProjectStopFlag.from(isProjectStop),\n              projectId: ProjectId.from(projectId),\n              statusName: ContractStatus.from(statusName),\n              statusReason: StatusReason.from(statusReason),\n              statusTimestamp: DatetimeValue.from(\n                format(statusTimestamp, DATETIME_VALUE_FORMAT),\n              ),\n            }),\n          ),\n        (args) => {\n          const value = new ProjectContractStatus(args);\n\n          expect(value).toBeInstanceOf(ProjectContractStatus);\n          expect(value).toEqual(args);\n        },\n      ),\n    );\n  });\n});\n"],"names":["format","fc","describe","expect","it","ContractStatus","DATETIME_VALUE_FORMAT","DatetimeValue","ProjectContractStatusId","ProjectId","ProjectStopFlag","StatusReason","ProjectContractStatus","ContractStatuses","assert","property","record","projectContractStatusId","uuid","version","isProjectStop","boolean","projectId","statusName","constantFrom","statusReason","string","minLength","statusTimestamp","date","min","Date","max","filter","trim","length","map","from","args","value","toBeInstanceOf","toEqual"],"mappings":"AAAA,SAASA,MAAM,QAAQ,WAAW;AAClC,OAAOC,QAAQ,aAAa;AAC5B,SAASC,QAAQ,EAAEC,MAAM,EAAEC,EAAE,QAAQ,SAAS;AAE9C,SACEC,cAAc,EACdC,qBAAqB,EACrBC,aAAa,EACbC,uBAAuB,EACvBC,SAAS,EACTC,eAAe,EACfC,YAAY,QACP,oBAAW;AAElB,SAASC,qBAAqB,QAAQ,6BAA0B;AAEhE,MAAMC,mBAAmB;IAAC;IAAO;IAAU;CAAW;AAEtDX,SAAS,yBAAyB;IAChCE,GAAG,2DAA2D;QAC5DH,GAAGa,MAAM,CACPb,GAAGc,QAAQ,CACTd,GACGe,MAAM,CAAC;YACNC,yBAAyBhB,GAAGiB,IAAI,CAAC;gBAAEC,SAAS;YAAE;YAC9CC,eAAenB,GAAGoB,OAAO;YACzBC,WAAWrB,GAAGiB,IAAI,CAAC;gBAAEC,SAAS;YAAE;YAChCI,YAAYtB,GAAGuB,YAAY,IAAIX;YAC/BY,cAAcxB,GAAGyB,MAAM,CAAC;gBAAEC,WAAW;YAAE;YACvCC,iBAAiB3B,GAAG4B,IAAI,CAAC;gBACvBC,KAAK,IAAIC,KAAK;gBACdC,KAAK,IAAID,KAAK,MAAM,IAAI;YAC1B;QACF,GACCE,MAAM,CAAC,CAAC,EAAER,YAAY,EAAE,GAAKA,aAAaS,IAAI,GAAGC,MAAM,GAAG,GAC1DC,GAAG,CACF,CAAC,EACCnB,uBAAuB,EACvBG,aAAa,EACbE,SAAS,EACTC,UAAU,EACVE,YAAY,EACZG,eAAe,EAChB,GAAM,CAAA;gBACLX,yBAAyBT,wBAAwB6B,IAAI,CACnDpB;gBAEFG,eAAeV,gBAAgB2B,IAAI,CAACjB;gBACpCE,WAAWb,UAAU4B,IAAI,CAACf;gBAC1BC,YAAYlB,eAAegC,IAAI,CAACd;gBAChCE,cAAcd,aAAa0B,IAAI,CAACZ;gBAChCG,iBAAiBrB,cAAc8B,IAAI,CACjCrC,OAAO4B,iBAAiBtB;YAE5B,CAAA,IAEJ,CAACgC;YACC,MAAMC,QAAQ,IAAI3B,sBAAsB0B;YAExCnC,OAAOoC,OAAOC,cAAc,CAAC5B;YAC7BT,OAAOoC,OAAOE,OAAO,CAACH;QACxB;IAGN;AACF"}